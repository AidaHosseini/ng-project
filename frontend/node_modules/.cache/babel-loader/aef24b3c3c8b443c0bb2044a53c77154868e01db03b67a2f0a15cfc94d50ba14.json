{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aidah\\\\ng-project\\\\frontend\\\\src\\\\components\\\\Analystics.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useLocation } from \"./LocationContext\";\n\n// Function to get road distance from OSRM API\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getRoadDistance = async (lat1, lon1, lat2, lon2) => {\n  const url = `https://router.project-osrm.org/route/v1/driving/${lon1},${lat1};${lon2},${lat2}?overview=false`;\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    if (data.routes && data.routes.length > 0) {\n      const distanceInKm = (data.routes[0].distance / 1000).toFixed(2); // Convert meters to km\n      return distanceInKm;\n    } else {\n      return \"N/A\";\n    }\n  } catch (error) {\n    console.error(\"Error fetching road distance:\", error);\n    return \"N/A\";\n  }\n};\nconst Analystics = () => {\n  _s();\n  const {\n    allLocations\n  } = useLocation();\n  const [distances, setDistances] = useState({});\n\n  // Find the user's location (if available)\n  const userLocation = allLocations.find(loc => loc.clinic_name === \"Your Location\");\n  useEffect(() => {\n    const fetchDistances = async () => {\n      if (!userLocation) return;\n      const newDistances = {};\n      for (const location of allLocations) {\n        if (location.clinic_name === \"Your Location\") continue;\n        const roadDistance = await getRoadDistance(userLocation.latitude, userLocation.longitude, location.latitude, location.longitude);\n        newDistances[location.clinic_name] = roadDistance;\n      }\n      setDistances(newDistances);\n    };\n    fetchDistances();\n  }, [userLocation, allLocations]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Analystic Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }, this), allLocations.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: allLocations.map((location, index) => {\n        if (location.clinic_name === \"Your Location\") return null;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [location.clinic_name, \" - Latitude: \", location.latitude, \", Longitude: \", location.longitude, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 31\n          }, this), \"Road Distance: \", distances[location.clinic_name] || \"Calculating...\", \" km\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 27\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No data available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n};\n_s(Analystics, \"LnnOKaSQI01tsLJ9WEFGZVouI2A=\", false, function () {\n  return [useLocation];\n});\n_c = Analystics;\nexport default Analystics;\nvar _c;\n$RefreshReg$(_c, \"Analystics\");","map":{"version":3,"names":["React","useLocation","jsxDEV","_jsxDEV","getRoadDistance","lat1","lon1","lat2","lon2","url","response","fetch","data","json","routes","length","distanceInKm","distance","toFixed","error","console","Analystics","_s","allLocations","distances","setDistances","useState","userLocation","find","loc","clinic_name","useEffect","fetchDistances","newDistances","location","roadDistance","latitude","longitude","children","fileName","_jsxFileName","lineNumber","columnNumber","map","index","_c","$RefreshReg$"],"sources":["C:/Users/aidah/ng-project/frontend/src/components/Analystics.js"],"sourcesContent":["import React from \"react\";\r\nimport { useLocation } from \"./LocationContext\";\r\n\r\n// Function to get road distance from OSRM API\r\nconst getRoadDistance = async (lat1, lon1, lat2, lon2) => {\r\n  const url = `https://router.project-osrm.org/route/v1/driving/${lon1},${lat1};${lon2},${lat2}?overview=false`;\r\n  \r\n  try {\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      if (data.routes && data.routes.length > 0) {\r\n          const distanceInKm = (data.routes[0].distance / 1000).toFixed(2); // Convert meters to km\r\n          return distanceInKm;\r\n      } else {\r\n          return \"N/A\";\r\n      }\r\n  } catch (error) {\r\n      console.error(\"Error fetching road distance:\", error);\r\n      return \"N/A\";\r\n  }\r\n};\r\n\r\nconst Analystics = () => {\r\n  const { allLocations } = useLocation();\r\n  const [distances, setDistances] = useState({});\r\n\r\n  // Find the user's location (if available)\r\n  const userLocation = allLocations.find(loc => loc.clinic_name === \"Your Location\");\r\n\r\n  useEffect(() => {\r\n      const fetchDistances = async () => {\r\n          if (!userLocation) return;\r\n\r\n          const newDistances = {};\r\n          for (const location of allLocations) {\r\n              if (location.clinic_name === \"Your Location\") continue;\r\n\r\n              const roadDistance = await getRoadDistance(\r\n                  userLocation.latitude, userLocation.longitude,\r\n                  location.latitude, location.longitude\r\n              );\r\n\r\n              newDistances[location.clinic_name] = roadDistance;\r\n          }\r\n\r\n          setDistances(newDistances);\r\n      };\r\n\r\n      fetchDistances();\r\n  }, [userLocation, allLocations]);\r\n\r\n  return (\r\n      <div>\r\n          <h3>Analystic Data</h3>\r\n          {allLocations.length > 0 ? (\r\n              <ul>\r\n                  {allLocations.map((location, index) => {\r\n                      if (location.clinic_name === \"Your Location\") return null;\r\n\r\n                      return (\r\n                          <li key={index}>\r\n                              {location.clinic_name} - Latitude: {location.latitude}, Longitude: {location.longitude}\r\n                              <br />\r\n                              Road Distance: {distances[location.clinic_name] || \"Calculating...\"} km\r\n                          </li>\r\n                      );\r\n                  })}\r\n              </ul>\r\n          ) : (\r\n              <p>No data available.</p>\r\n          )}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Analystics;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}